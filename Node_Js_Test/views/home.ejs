<!DOCTYPE html>

<html>
<head>
    <title>Home</title>
    <!-- JQuery -->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <!-- Golden Layout -->
    <script type="text/javascript" src="//golden-layout.com/assets/js/goldenlayout.min.js"></script>
    <link type="text/css" rel="stylesheet" href="//golden-layout.com/assets/css/goldenlayout-base.css"/>
    <link type="text/css" rel="stylesheet" href="//golden-layout.com/assets/css/goldenlayout-dark-theme.css"/>
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="test.css">

</head>

<body>

<% let liste = ["yo", "bla"];%>
<% let test = 101; %>

<div id="wrapper">
    <ul id="menuContainer"></ul>
    <div id="layoutContainer"></div>
</div>

<!--<p id="g"> Hey!</p>-->

<!--<button onclick="geek()">-->
<!--    Click me!-->
<!--</button>-->

<script>
    // let list = ["bouh"];
    var getTest = <%= test %>;
    console.log(getTest);
    var list = "<%= liste[0] %>";
    console.log(list);

    var listNodesItem = {
        title: "List of nodes",
        text: "Connected nodes list :",
        list: "list",
        link: "<a href=\'/nodes/\'>Clic</a>",
    }

    var createTransactionItem = {
        title: "Make a signed transaction",
        text: "Yo",
        link: "<a href=\'/SignedTransaction/\'>Clic</a>"
    }

    var checkABalanceItem = {
        title: "Check a balance",
        text: "Hey",
        link: "<a href=\'/balance/\'>Clic</a>"
    }

    var createAnAccountItem = {
        title: "Create an account",
        text: "Salut",
        link: "<a href=\'/NewAccount/\'>Clic</a>",
    }

    var config = {
        content: [{
            type: 'row',
            isClosable: false,
            content: []
        }]
    };

    var myLayout = new window.GoldenLayout(config, $('#layoutContainer'));

    myLayout.registerComponent('example', function (container, state) {
        container.getElement().html('<h2>' + state.text + '</h2>' +
            '<li>' + state.list + '</li>' +
            '<p>' + state.link + '</p>');
    });

    myLayout.init();


    var addMenuItem = function (newItem) {
        var element = $('<li>' + newItem.title + '</li>');
        $('#menuContainer').append(element);

        var newItemConfig = {
            title: newItem.title,
            type: 'component',
            componentName: 'example',
            componentState: newItem
        };

        element.click(function () {
            myLayout.root.contentItems[0].addChild(newItemConfig);
        });
    };
    $('#menuContainer').append("<h1>Menu</h1>");

    addMenuItem(listNodesItem);
    addMenuItem(checkABalanceItem);
    addMenuItem(createTransactionItem);
    addMenuItem(createAnAccountItem);

</script>


<script>
    function geek() {
        var doc = prompt("Please enter some text",
            "GeeksforGeeks");
        if (doc != null) {
            console.log(5);
            document.getElementById("g").innerHTML =
                "Welcome to " + doc;
        }
    }
</script>


</body>
</html>